(function(o,d,s){"use strict";const{DCDSoundManager:n}=s.ReactNative.NativeModules,g=d.findByStoreName("SelectedChannelStore"),m="https://raw.githubusercontent.com/eszgit/vendettaplugins/master/plugins/Fart/src/fart.ogg",a=1337;let c=-1;const p=function(){return new Promise(function(t){return n.prepare(m,"notification",a,function(r,e){return t(e)})})};let i=null,u=!1;async function h(){u&&(i!=null&&clearTimeout(i),n.stop(a),u=!1),u=!0,await n.play(a),i=setTimeout(function(){u=!1,n.stop(a),i=null},c)}function l(t){if(t.message.content&&t.channelId==g.getChannelId()&&!t.message.state&&t.sendMessageOptions==null){let r=(t.message.content.match(/fart/g)??[]).length;if(r>0)for(let e=0;e<r;e++)setTimeout(h,e*350)}}let f=!1;var S={onLoad:function(){f||p().then(function(t){f=!0,c=t.duration}),s.FluxDispatcher.subscribe("MESSAGE_CREATE",l)},onUnload:function(){s.FluxDispatcher.unsubscribe("MESSAGE_CREATE",l)}};return o.default=S,Object.defineProperty(o,"__esModule",{value:!0}),o})({},vendetta.metro,vendetta.metro.common);
