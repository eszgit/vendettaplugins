(function(s,d,r){"use strict";const{DCDSoundManager:n}=r.ReactNative.NativeModules,g=d.findByStoreName("SelectedChannelStore"),m="https://raw.githubusercontent.com/eszgit/vendettaplugins/master/plugins/Fart/src/fart.ogg",a=1337;let c=-1;const h=function(){return new Promise(function(e){return n.prepare(m,"notification",a,function(o,t){return e(t)})})};let u=null,i=!1;async function p(){i&&(u!=null&&clearTimeout(u),n.stop(a),i=!1),i=!0,await n.play(a),u=setTimeout(function(){i=!1,n.stop(a),u=null},c)}function l(e){if(e.message.content&&e.channelId==g.getChannelId()&&!e.message.state&&e.sendMessageOptions==null){let o=(e.message.content.match(/fart/g)??[]).length;if(o+=(e.message.content.match(/fart/gi)??[]).length,o>0)for(let t=0;t<o;t++)setTimeout(p,t*350)}}let f=!1;var S={onLoad:function(){f||h().then(function(e){f=!0,c=e.duration}),r.FluxDispatcher.subscribe("MESSAGE_CREATE",l)},onUnload:function(){r.FluxDispatcher.unsubscribe("MESSAGE_CREATE",l)}};return s.default=S,Object.defineProperty(s,"__esModule",{value:!0}),s})({},vendetta.metro,vendetta.metro.common);
